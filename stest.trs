type char is 1 bytes;
type int is 8 bytes;

char[] greet = "Sailor\n";

enum int syscalls {write = 1, exit = 60};
enum int streams { In, out, err };

#*
(int errorcode) (int stream) write (char[0] data, int length) {
	#reg data = rsi;
	#reg length = rax;
	#reg stream = rdi;
	mov system_function, syscalls.write;
	syscall;
	mov errorcode, rsi; ## I don't actually know where the return of the write syscall is
}
*#

char[0] data;
int length;
int system_function;
int stream;
int error_code;

entry {
	#reg data = rsi;
	#reg length = rdx;
	#reg system_function = rax;
	#reg stream = rdi;

	mov data, greet[0];
	mov length, greet[1];
	mov system_function, syscalls.write;
	mov stream, streams.out;
	syscall;

	#reg error_code = rdi;
	mov system_function, syscalls.exit;
	mov error_code, 0;
	syscall;
}

#*
char[][] hellos = {
	"hello\n", "hey\n", "haiii\n", "greetings\n"
};

char[][][] aaa = {
	{"h", "haaa", "hoohooo"}, {"haiaaiaa"}
};

int[] D;
*#
